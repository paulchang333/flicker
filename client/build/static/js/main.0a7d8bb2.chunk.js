(this["webpackJsonpmovie-tinder"]=this["webpackJsonpmovie-tinder"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){"use strict";n.r(t);var s,r,c=n(0),a=n(1),i=n.n(a),o=n(69),u=n.n(o),l=n(13),d=(n(79),n(4)),j=n.n(d),b=n(9),p=n(2),f=n(8),h=n.n(f),m=Object(a.createContext)({}),O=function(e){var t=e.children,n=Object(a.useState)({token:void 0,user:void 0}),s=Object(p.a)(n,2),r=s[0],i=s[1],o=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),e.next=4,h.a.post("/api/users/isTokenValid",null,{headers:{"x-auth-token":t}});case 4:if(!e.sent.data){e.next=10;break}return e.next=8,h.a.get("/api/users/loggedInUser",{headers:{"x-auth-token":t}});case 8:n=e.sent,i({token:t,user:n.data});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o()}),[]),Object(c.jsx)(m.Provider,{value:{userData:r,setUserData:i},children:t})},x=Object(a.createContext)([{},function(){}]),g=function(e){var t=e.children,n=Object(a.useState)({isMovie:!1,isSeries:!1,selectedGenres:[],results:[]}),s=Object(p.a)(n,2),r=s[0],i=s[1];return Object(c.jsx)(x.Provider,{value:{showData:r,setShowData:i},children:t})},v=n(6),w=(n(97),function(e){var t=Object(a.useContext)(m).userData,n=Object(v.f)();return Object(a.useEffect)((function(){t.user||n.push("/login")})),Object(c.jsxs)("div",{className:"page home-page",children:[Object(c.jsx)("h1",{className:"home-page__title",children:"Welcome to flicker!"}),Object(c.jsx)("h3",{className:"home-page__description",children:"Start your own session, or join someone else's session"}),Object(c.jsxs)("div",{className:"home-page__button-row",children:[Object(c.jsx)("button",{onClick:function(){return n.push("/session?creator=true")},children:"Start Session"}),Object(c.jsx)("button",{onClick:function(){return n.push("/join")},children:"Join Session"})]})]})}),_=(n(102),n(103),function(e){return Object(c.jsxs)("div",{className:"error-notice",children:[Object(c.jsx)("span",{children:e.message}),Object(c.jsx)("button",{onClick:e.clearError,children:"X"})]})}),y=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),i=Object(p.a)(r,2),o=i[0],u=i[1],l=Object(a.useState)(""),d=Object(p.a)(l,2),f=d[0],O=d[1],x=Object(a.useState)(""),g=Object(p.a)(x,2),w=g[0],y=g[1],S=Object(a.useState)(""),k=Object(p.a)(S,2),N=k[0],C=k[1],D=Object(a.useContext)(m).setUserData,E=Object(v.f)(),I=function(){var e=Object(b.a)(j.a.mark((function e(t){var s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,s={name:n,email:o,password:f,passwordCheck:w},e.next=5,h.a.post("/api/users/register",s);case 5:return e.next=7,h.a.post("/api/users/login",{email:o,password:f});case 7:r=e.sent,D({token:r.data.token,user:r.data.user}),localStorage.setItem("auth-token",r.data.token),localStorage.setItem("room-id",""),E.push("/"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),e.t0.response.data.msg&&C(e.t0.response.data.msg);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){localStorage.setItem("room-id","")}),[]),Object(c.jsxs)("div",{className:"page",children:[Object(c.jsx)("h2",{children:"Register"}),Object(c.jsxs)("form",{className:"register-page__form form",onSubmit:I,children:[Object(c.jsx)("label",{htmlFor:"register-name",children:"Full name"}),Object(c.jsx)("input",{id:"register-name",type:"text",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"register-email",children:"Email"}),Object(c.jsx)("input",{id:"register-email",type:"email",onChange:function(e){return u(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"register-password",children:"Password"}),Object(c.jsx)("input",{id:"register-password",type:"password",onChange:function(e){return O(e.target.value)}}),Object(c.jsx)("input",{type:"password",placeholder:"Verify password",onChange:function(e){return y(e.target.value)}}),Object(c.jsx)("input",{type:"submit",value:"Register"})]}),N&&Object(c.jsx)(_,{message:N,clearError:function(){return C(void 0)}})]})},S=(n(104),function(){var e=Object(a.useState)(void 0),t=Object(p.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(void 0),i=Object(p.a)(r,2),o=i[0],u=i[1],l=Object(a.useState)(void 0),d=Object(p.a)(l,2),f=d[0],O=d[1],x=Object(a.useContext)(m),g=x.userData,w=x.setUserData,y=Object(v.f)(),S=function(){var e=Object(b.a)(j.a.mark((function e(t){var s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,s={email:n,password:o},e.next=5,h.a.post("/api/users/login",s);case 5:r=e.sent,w({token:r.data.token,user:r.data.user}),console.log(g),localStorage.setItem("auth-token",r.data.token),y.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response.data.msg&&O(e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){localStorage.setItem("room-id","")}),[]),Object(c.jsxs)("div",{className:"page",children:[Object(c.jsx)("h2",{children:"Login"}),Object(c.jsxs)("form",{className:"login-page__form form",onSubmit:S,children:[Object(c.jsx)("label",{htmlFor:"login-email",children:"Email"}),Object(c.jsx)("input",{id:"login-email",type:"email",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"login-password",children:"Password"}),Object(c.jsx)("input",{id:"login-password",type:"password",onChange:function(e){return u(e.target.value)}}),Object(c.jsx)("input",{type:"submit",value:"Login"})]}),f&&Object(c.jsx)(_,{message:f,clearError:function(){return O(void 0)}})]})}),k=n(28),N=n(34),C=n(5),D=n(35),E=n.n(D),I=n(19),L=n.n(I),M=(n(136),n(137),n.p+"static/media/spinner.57e508b9.gif"),G=function(){return Object(c.jsx)("div",{className:"full-page-loader",children:Object(c.jsx)("img",{src:M,className:"full-page-loader__img",alt:"loading"})})},F=n(71),R=n.n(F),T=(n(140),function(e){var t,n=Object(a.useContext)(x).showData,s=Object(a.useContext)(m).userData,r=Object(a.useState)([]),i=Object(p.a)(r,2),o=i[0],u=i[1],l=Object(a.useState)(),d=Object(p.a)(l,2),f=d[0],O=d[1],g=Object(a.useState)(),v=Object(p.a)(g,2),w=(v[0],v[1]),_=e.creator,y=e.roomCode,S=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(n.results);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(S(),t=L()("localhost:5000"),"true"===_){var e=n.results;t.emit("addResults",{data:e,roomCode:y,creator:_})}}),[n]);var k=function(){var e=Object(b.a)(j.a.mark((function e(t,r){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O(t),(c=n.results.find((function(e){return e.netflixid===r}))).roomid=y,c.userid=s.user.id,"right"!==t){e.next=10;break}return e.next=8,h.a.post("/api/shows/accepted",c);case 8:e.next=13;break;case 10:if("left"!==t){e.next=13;break}return e.next=13,h.a.post("/api/shows/rejected",c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),e.t0.response.data.msg&&w(e.t0.response.data.msg);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),N=o;return Object(c.jsxs)("div",{className:"cards",children:[0===o.length?Object(c.jsx)("p",{className:"cards__end-message",children:"End of results"}):n.results.map((function(e){return Object(c.jsx)(R.a,{className:"cards--swipe",preventSwipe:["up","down"],onSwipe:function(t){return k(t,e.netflixid)},onCardLeftScreen:function(){return t=e.netflixid,N=N.filter((function(e){return e.netflixid!==t})),void u(N);var t},children:Object(c.jsx)("div",{style:{backgroundImage:"url(".concat(e.image,")")},className:"cards__card",children:Object(c.jsxs)("div",{className:"cards__card-content",children:[Object(c.jsx)("div",{className:"cards__card-title",dangerouslySetInnerHTML:{__html:"<h3>".concat(e.title,"</h3>")}}),Object(c.jsx)("div",{className:"cards__card-synopsis",dangerouslySetInnerHTML:{__html:"<p>".concat(e.synopsis,"</p>")}}),Object(c.jsxs)("div",{className:"cards__card-tags",children:[e.type?Object(c.jsx)("p",{children:e.type}):null,e.released?Object(c.jsx)("p",{children:e.released}):null,e.runtime?Object(c.jsx)("p",{children:e.runtime}):null]})]})})},e.netflixid)})),f?Object(c.jsxs)("h3",{className:"cards__swipe-direction",children:["You swiped ",f]},f):Object(c.jsx)("h3",{className:"cards__swipe-direction",children:"Swipe a card to get started!"})]})}),U=function(e){var t,n=e.location,s=Object(a.useContext)(x),r=s.showData,i=s.setShowData,o=Object(a.useState)(void 0),u=Object(p.a)(o,2),l=u[0],d=u[1],f=Object(v.f)(),m=E.a.parse(n.search),O=m.creator,g=m.roomCode,w=[];for(var _ in r.selectedGenres)w.push(r.selectedGenres[_].id);var y="";r.isMovie&&r.isSeries?y="Any":r.isMovie?y="Movie":r.isSeries&&(y="Series");var S=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),i((function(e){return Object(C.a)(Object(C.a)({},e),{},{results:[]})})),t="https://unogs-unogs-v1.p.rapidapi.com/aaapi.cgi","33",w.forEach((function(e){var n={params:{q:"-!1900,2020-!0,5-!0,10-!".concat(e,"-!").concat(y,"-!Any-!Any-!-!{downloadable}"),t:"ns",cl:"".concat("33"),st:"adv",ob:"Relevance",p:"1",sa:"and"},headers:{"x-rapidapi-key":"db8cfc2ed8mshe05aaa76b4c515ep10e59ajsn59bdcf01f18b","x-rapidapi-host":"unogs-unogs-v1.p.rapidapi.com"}},s=[];h.a.get(t,n).then((function(e){for(var r=1,c=Math.ceil(e.data.COUNT/100);r<=c;){var a=Object(C.a)(Object(C.a)({},n),{},{params:Object(C.a)(Object(C.a)({},n.params),{},{p:"".concat(r)})});h.a.get(t,a).then((function(e){var t,n=Object(N.a)(e.data.ITEMS);try{for(n.s();!(t=n.n()).done;){var r=t.value;s.push({netflixid:r.netflixid,title:r.title,image:r.image,synopsis:r.synopsis,type:r.type,released:r.released,runtime:r.runtime,rating:""===r.rating?0:parseFloat(r.rating)})}}catch(c){n.e(c)}finally{n.f()}console.log(s),i((function(e){return Object(C.a)(Object(C.a)({},e),{},{results:Object(k.a)(new Map([].concat(Object(k.a)(e.results),s).map((function(e){return[e.netflixid,e]}))).values()).sort((function(e,t){return e.rating-t.rating}))})}))})).catch((function(e){console.error(e)})),r+=1}})).catch((function(e){console.error(e)}))})),n=setTimeout((function(){return d(!1)}),3e3),e.abrupt("return",(function(){return clearTimeout(n)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t=L()("localhost:5000"),"false"===O?(t.emit("getResults",g),t.on("returnResults",(function(e){i((function(t){return Object(C.a)(Object(C.a)({},t),{},{results:e})}))}))):S()}),[]),Object(a.useEffect)((function(){return console.log(r.results)})),Object(c.jsx)("div",{className:"page results-page",children:l?Object(c.jsx)(G,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{className:"results-page__swipe-instructions",children:"Swipe right to accept and left to reject"}),Object(c.jsx)(T,{roomCode:g,creator:O}),Object(c.jsx)("form",{className:"results-page__done-button form",children:Object(c.jsx)("input",{type:"submit",value:"I'm done swiping!",onClick:function(){return f.push("/final")}})})]})})},K=(n(141),function(e){var t=Object(a.useState)([]),n=Object(p.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(void 0),o=Object(p.a)(i,2),u=o[0],l=o[1],d=Object(a.useState)(0),f=Object(p.a)(d,2),m=f[0],O=f[1],x=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,s,c,a,i,o,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("room-id"),e.next=3,h.a.get("/api/shows/accepted/".concat(t));case 3:for(o in n=e.sent,s=n.data,c=s.filter((function(e,t,n){return n.findIndex((function(t){return t.netflixid===e.netflixid}))===t})),console.log("acceptedShowData: ",c),a={},s.forEach((function(e){a[e.netflixid]=a[e.netflixid]?a[e.netflixid]+1:1})),i=[],a)i.push({id:o,count:a[o]});i.sort((function(e,t){return t.count-e.count})),i=i.map((function(e){return e.id})),u=[],i.forEach((function(e){var t=c.find((function(t){return t.netflixid===e}));u.push(t)})),l(u.length),r(u);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){x()}),[]);return Object(c.jsx)("div",{className:"page final-results-page",children:m<u?Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{className:"final-results-page__header",children:"Based on your group's selections, your recommended movie/show is:"}),function(){var e=s[m];return Object(c.jsx)("div",{className:"final-results-page__recommended",children:Object(c.jsx)("div",{style:{backgroundImage:"url(".concat(null===e||void 0===e?void 0:e.image,")")},className:"final-results-page__card",children:Object(c.jsxs)("div",{className:"final-results-page__card-content",children:[Object(c.jsx)("div",{className:"final-results-page__card-title",dangerouslySetInnerHTML:{__html:"<h3>".concat(null===e||void 0===e?void 0:e.title,"</h3>")}}),Object(c.jsx)("div",{className:"final-results-page__card-synopsis",dangerouslySetInnerHTML:{__html:"<p>".concat(null===e||void 0===e?void 0:e.synopsis,"</p>")}}),Object(c.jsxs)("div",{className:"final-results-page__card-tags",children:[(null===e||void 0===e?void 0:e.type)?Object(c.jsx)("p",{children:null===e||void 0===e?void 0:e.type}):null,(null===e||void 0===e?void 0:e.released)?Object(c.jsx)("p",{children:null===e||void 0===e?void 0:e.released}):null,(null===e||void 0===e?void 0:e.runtime)?Object(c.jsx)("p",{children:null===e||void 0===e?void 0:e.runtime}):null]})]})})})}(),Object(c.jsx)("form",{className:"final-results-page__next-btn form",children:Object(c.jsx)("input",{type:"submit",value:"Next recommendation",onClick:function(e){return function(e){e.preventDefault(),O(m+1)}(e)}})})]}):Object(c.jsxs)("div",{className:"final-results-page__end-view",children:[Object(c.jsx)("h3",{className:"final-results-page__end-message",children:"End of recommendations"}),Object(c.jsx)("form",{className:"final-results-page__reset-btn form",children:Object(c.jsx)("input",{type:"submit",value:"Click to see again",onClick:function(e){return function(e){e.preventDefault(),O(0)}(e)}})})]})})}),H=(n(142),function(e){var t=Object(a.useContext)(m).userData,n=Object(a.useState)(""),r=Object(p.a)(n,2),i=r[0],o=r[1],u=Object(a.useState)(""),l=Object(p.a)(u,2),d=l[0],f=l[1],h="localhost:5000",O=Object(v.f)();Object(a.useEffect)((function(){s=L()(h)}),[h]);var x=function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),i&&(s.emit("userJoin",i,{user:t.user},(function(){return o("")})),s.on("roomNotFound",(function(e,t){f(e),"Room Found"===e&&O.push("/session?creator=false&&roomCode=".concat(t))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"page",children:[Object(c.jsxs)("form",{className:"join-session-page__form form",onSubmit:x,children:[Object(c.jsx)("label",{htmlFor:"room-code",children:"Room code"}),Object(c.jsx)("input",{id:"room-code",type:"text",value:i,onChange:function(e){return o(e.target.value)}}),Object(c.jsx)("input",{type:"submit",value:"Enter"})]}),d&&Object(c.jsx)(_,{message:d,clearError:function(){return f(void 0)}})]})}),P=(n(143),n(144),n(145),function(e){var t=Object(a.useContext)(x),n=t.showData,s=t.setShowData;return Object(c.jsxs)("div",{className:"type-select",children:[Object(c.jsx)("h2",{children:"Media type"}),Object(c.jsxs)("div",{className:"type-select__container",children:[Object(c.jsxs)("div",{className:"type-select__checkbox",children:[Object(c.jsx)("label",{htmlFor:"movie",children:"Movie"}),Object(c.jsx)("input",{type:"checkbox",id:"movie",name:"movie",checked:n.isMovie,onChange:function(e){return function(e){s((function(t){return Object(C.a)(Object(C.a)({},t),{},{isMovie:e.target.checked})}))}(e)}})]}),Object(c.jsxs)("div",{className:"type-select__checkbox",children:[Object(c.jsx)("label",{htmlFor:"series",children:"Shows"}),Object(c.jsx)("input",{type:"checkbox",id:"series",name:"series",checked:n.isSeries,onChange:function(e){return function(e){s((function(t){return Object(C.a)(Object(C.a)({},t),{},{isSeries:e.target.checked})}))}(e)}})]})]})]})}),A=(n(146),n(147),n(148),function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),s=n[0],r=n[1];return Object(c.jsx)("div",{className:"genre-item",children:Object(c.jsx)("button",{type:"button",onClick:function(){return t=e.genre,e.updateSelectedGenres(t),e.setKeyword(""),void r(!s);var t},children:e.genre.name},e.genre.id)})}),J=function(e){return e.keyword&&e.keyword.length>0?Object(c.jsx)("div",{className:"genre-list",children:e.genreList.map((function(t){return Object(c.jsx)(A,{genre:t,updateSelectedGenres:e.updateSelectedGenres,setKeyword:e.setKeyword})}))}):null},B=(n(149),n(72)),q=n(73),V=(n(152),function(e){var t=Object(a.useContext)(x),n=t.showData,s=t.setShowData;return Object(c.jsxs)("div",{className:"selected-genre",children:[Object(c.jsx)("div",{className:"remove-icon",onClick:function(){return function(e){var t=n.selectedGenres.filter((function(t){return t.id!==e.id}));s((function(e){return Object(C.a)(Object(C.a)({},e),{},{selectedGenres:t})}))}(e.genre)},children:Object(c.jsx)(B.a,{icon:q.a})}),e.genre.name]})}),W=function(e){var t=Object(a.useContext)(x).showData;return Object(c.jsxs)("div",{className:"selected-genres-list",children:[Object(c.jsx)("p",{children:Object(c.jsx)("b",{children:"Selected"})}),0===t.selectedGenres.length?Object(c.jsx)("p",{children:"No genres selected"}):t.selectedGenres.map((function(e){return Object(c.jsx)(V,{genre:e})}))]})},X=function(e){var t=Object(a.useContext)(x),n=t.showData,s=t.setShowData;return Object(c.jsxs)("div",{className:"genre-select",children:[Object(c.jsx)("h2",{children:"Genres"}),Object(c.jsxs)("div",{className:"genre-select__search-selected",children:[Object(c.jsxs)("div",{className:"genre-select__search",children:[Object(c.jsx)("input",{className:"genre-select__search-input",type:"search",value:e.keyword,placeholder:"Search Genre",onChange:function(t){return function(t){e.setKeyword(t);var n=e.genreListDefault.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).slice(0,5);e.setGenreList(n)}(t.target.value)}}),Object(c.jsx)(J,{keyword:e.keyword,setKeyword:e.setKeyword,genreList:e.genreList,updateSelectedGenres:function(e){n.selectedGenres.some((function(t){return t.id===e.id}))||s((function(t){return Object(C.a)(Object(C.a)({},t),{},{selectedGenres:[].concat(Object(k.a)(t.selectedGenres),[e])})}))}})]}),Object(c.jsx)(W,{})]})]})},Y=function(e){var t=Object(a.useContext)(x).setShowData,n=Object(a.useState)([]),s=Object(p.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)([]),u=Object(p.a)(o,2),l=u[0],d=u[1],f=Object(a.useState)(""),m=Object(p.a)(f,2),O=m[0],g=m[1],v=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"GET",url:"https://unogs-unogs-v1.p.rapidapi.com/api.cgi",params:{t:"genres"},headers:{"x-rapidapi-key":"db8cfc2ed8mshe05aaa76b4c515ep10e59ajsn59bdcf01f18b","x-rapidapi-host":"unogs-unogs-v1.p.rapidapi.com"}},n=[],h.a.request(t).then((function(e){var t,s=Object(N.a)(e.data.ITEMS);try{for(s.s();!(t=s.n()).done;){var r=t.value;Object.keys(r)[0].includes("All")||n.push({id:Object.values(r)[0][0],name:Object.keys(r)[0]})}}catch(c){s.e(c)}finally{s.f()}i(n)})).catch((function(e){console.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t({isMovie:!1,isSeries:!1,selectedGenres:[]}),v()}),[]),Object(c.jsxs)("div",{className:"option-select",children:[Object(c.jsx)("h1",{children:"Choose your group's preferences"}),Object(c.jsx)(P,{}),Object(c.jsx)(X,{genreListDefault:r,setGenreListDefault:i,genreList:l,setGenreList:d,keyword:O,setKeyword:g})]})},z=function(e){var t,n=e.location,s=Object(a.useContext)(m).userData,i=E.a.parse(n.search),o=i.creator,u=i.roomCode,l="localhost:5000",d=Object(v.f)();return t="true"===o?(t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).slice(0,6):u,Object(a.useEffect)((function(){localStorage.setItem("room-id",t),(r=L()(l)).emit("sessioncreate",t,o,{user:s.user}),r.on("roomUsers",(function(e){var t;t=e,document.getElementById("users").innerHTML="\n      ".concat(t.map((function(e){return"<li>".concat(e.name,"</li>")})).join(""),"\n  ")}))}),[l]),Object(c.jsxs)("div",{className:"session-page page",children:[Object(c.jsx)("div",{className:"session-page__room-info-container",children:Object(c.jsxs)("div",{className:"session-page__room-info",children:[Object(c.jsx)("h2",{children:"Room Info"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Role:"})," ","true"===o?"Admin":"User"]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Room Code:"})," ",t]}),Object(c.jsx)("p",{children:Object(c.jsx)("b",{children:"Room Members:"})}),Object(c.jsx)("ul",{id:"users"})]})}),"true"===o&&Object(c.jsx)(Y,{room:t,creator:o}),Object(c.jsx)("div",{className:"session-page__start-btn",children:Object(c.jsx)("form",{className:"form",children:Object(c.jsx)("input",{type:"submit",value:"Start",onClick:function(){return d.push("/results?creator=".concat(o,"&&roomCode=").concat(t))}})})})]})},Q=function(){var e=[{name:"Home",path:"/",Component:w},{name:"Register",path:"/register",Component:y},{name:"Login",path:"/login",Component:S},{name:"Results",path:"/results",Component:U},{name:"FinalResults",path:"/final",Component:K},{name:"JoinSession",path:"/join",Component:H},{name:"Session",path:"/session",Component:z}];return Object(c.jsx)(v.c,{children:e.map((function(e){return Object(c.jsx)(v.a,{exact:!0,path:e.path,component:e.Component},e.name)}))})},Z=(n(153),n(154),function(e){var t=Object(a.useContext)(m),n=t.userData,s=t.setUserData,r=Object(v.f)();return Object(c.jsx)("nav",{className:"auth-options",children:n.user?Object(c.jsx)("button",{onClick:function(){s({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),r.push("/")},children:"Logout"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){r.push("/register")},children:"Register"}),Object(c.jsx)("button",{onClick:function(){r.push("/login")},children:"Login"})]})})}),$=function(e){return Object(c.jsxs)("header",{className:"header",children:[Object(c.jsx)(l.b,{to:"/",children:Object(c.jsx)("h1",{className:"header__title",children:"flicker"})}),Object(c.jsx)(Z,{})]})},ee=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(O,{children:Object(c.jsx)(g,{children:Object(c.jsxs)(l.a,{children:[Object(c.jsx)($,{}),Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(Q,{})})]})})})})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,156)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),c(e),a(e)}))};u.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(ee,{})}),document.getElementById("root")),te()},79:function(e,t,n){},97:function(e,t,n){}},[[155,1,2]]]);
//# sourceMappingURL=main.0a7d8bb2.chunk.js.map